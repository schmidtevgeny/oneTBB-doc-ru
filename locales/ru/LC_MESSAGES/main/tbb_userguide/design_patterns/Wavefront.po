# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2021, Intel Corporation
# This file is distributed under the same license as the oneTBB package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2022.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: oneTBB \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-02-23 14:08+0300\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.9.1\n"

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:4
msgid "Wavefront"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst
msgid "Problem"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:13
msgid ""
"Perform computations on items in a data set, where the computation on an "
"item uses results from computations on predecessor items."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst
msgid "Context"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:23
msgid "The dependences between computations form an acyclic graph."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst
msgid "Forces"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:32
msgid "Dependence constraints between items form an acyclic graph."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:35
msgid ""
"The number of immediate predecessors in the graph is known in advance, or"
" can be determined some time before the last predecessor completes."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst
msgid "Solution"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:46
msgid ""
"The solution is a parallel variant of topological sorting, using "
"``oneapi::tbb::parallel_for_each`` to process items. Associate an atomic "
"counter with each item. Initialize each counter to the number of "
"predecessors. Invoke ``oneapi::tbb::parallel_for_each`` to process the "
"items that have no predessors (have counts of zero). After an item is "
"processed, decrement the counters of its successors. If a successor's "
"counter reaches zero, add that successor to the "
"``oneapi::tbb::parallel_for_each`` via a \"feeder\"."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:56
msgid ""
"If the number of predecessors for an item cannot be determined in "
"advance, treat the information \"know number of predecessors\" as an "
"additional predecessor. When the number of predecessors becomes known, "
"treat this conceptual predecessor as completed."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:62
msgid ""
"If the overhead of counting individual items is excessive, aggregate "
"items into blocks, and do the wavefront over the blocks."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst
msgid "Example"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:72
msgid ""
"Below is a serial kernel for the longest common subsequence algorithm. "
"The parameters are strings ``x`` and ``y`` with respective lengths "
"``xlen`` and ``ylen``."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:80
msgid ""
"int F[MAX_LEN+1][MAX_LEN+1];\n"
"\n"
"\n"
"void SerialLCS( const char* x, size_t xlen, const char* y, size_t ylen )\n"
"{\n"
"   for( size_t i=1; i<=xlen; ++i )\n"
"       for( size_t j=1; j<=ylen; ++j )\n"
"           F[i][j] = x[i-1]==y[j-1] ? F[i-1][j-1]+1:\n"
"                                      max(F[i][j-1],F[i-1][j]);\n"
"}"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:92
msgid ""
"The kernel sets ``F[i][j]`` to the length of the longest common "
"subsequence shared by ``x[0..i-1]`` and ``y[0..j-1]``. It assumes that "
"F[0][0..ylen] and ``F[0..xlen][0]`` have already been initialized to "
"zero."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:98
msgid ""
"The following figure shows the data dependences for calculating "
"``F[i][j]``."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:106
msgid "Data dependences for longest common substring calculation. |image0|"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:193
msgid "image0"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:193
msgid ".. image:: main/tbb_userguide/design_patterns/Images/image005a.jpg"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:110
msgid ""
"The following figure shows the gray diagonal dependence is the transitive"
" closure of other dependencies. Thus for parallelization purposes it is a"
" redundant dependence that can be ignored."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:119
msgid "Diagonal dependence is redundant. |image1|"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:196
msgid "image1"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:196
msgid ".. image:: main/tbb_userguide/design_patterns/Images/image006a.jpg"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:123
msgid ""
"It is generally good to remove redundant dependences from consideration, "
"because the atomic counting incurs a cost for each dependence considered."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:128
msgid ""
"Another consideration is grain size. Scheduling each ``F[i][j]`` element "
"calculation separately is prohibitively expensive. A good solution is to "
"aggregate the elements into contiguous blocks, and process the contents "
"of a block serially. The blocks have the same dependence pattern, but at "
"a block scale. Hence scheduling overheads can be amortized over blocks."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:136
msgid ""
"The parallel code follows. Each block consists of ``NÃ—N`` elements. Each "
"block has an associated atomic counter. Array ``Count`` organizes these "
"counters for easy lookup. The code initializes the counters and then "
"rolls a wavefront using ``parallel_for_each``, starting with the block at"
" the origin since it has no predecessors."
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:146
msgid ""
"const int N = 64;\n"
"std::atomic<char> Count[MAX_LEN/N+1][MAX_LEN/N+1];\n"
"\n"
"\n"
"void ParallelLCS( const char* x, size_t xlen, const char* y, size_t ylen "
") {\n"
"   // Initialize predecessor counts for blocks.\n"
"   size_t m = (xlen+N-1)/N;\n"
"   size_t n = (ylen+N-1)/N;\n"
"   for( int i=0; i<m; ++i )\n"
"       for( int j=0; j<n; ++j )\n"
"           Count[i][j] = (i>0)+(j>0);\n"
"   // Roll the wavefront from the origin.\n"
"   typedef pair<size_t,size_t> block;\n"
"   block origin(0,0);\n"
"   oneapi::tbb::parallel_for_each( &origin, &origin+1,\n"
"       [=]( const block& b, oneapi::tbb::feeder<block>&feeder ) {\n"
"           // Extract bounds on block\n"
"           size_t bi = b.first;\n"
"           size_t bj = b.second;\n"
"           size_t xl = N*bi+1;\n"
"           size_t xu = min(xl+N,xlen+1);\n"
"           size_t yl = N*bj+1;\n"
"           size_t yu = min(yl+N,ylen+1);\n"
"           // Process the block\n"
"           for( size_t i=xl; i<xu; ++i )\n"
"               for( size_t j=yl; j<yu; ++j )\n"
"                   F[i][j] = x[i-1]==y[j-1] ? F[i-1][j-1]+1:\n"
"                                              max(F[i][j-1],F[i-1][j]);\n"
"           // Account for successors\n"
"           if( bj+1<n && --Count[bi][bj+1]==0 )\n"
"               feeder.add( block(bi,bj+1) );\n"
"           if( bi+1<m && --Count[bi+1][bj]==0 )\n"
"               feeder.add( block(bi+1,bj) );       }\n"
"   );\n"
"}"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst
msgid "References"
msgstr ""

#: ../../oneTBB/doc/main/tbb_userguide/design_patterns/Wavefront.rst:189
msgid ""
"Eun-Gyu Kim and Mark Snir, \"Wavefront Pattern\", "
"http://snir.cs.illinois.edu/patterns/wavefront.pdf"
msgstr ""

